apiVersion: score.dev/v1b1
metadata:
  name: api-flask
containers:
  api-flask:
    image: humanitecacr.azurecr.io/flask-app:latest
    pullPolicy: Always  # Força o Kubernetes a sempre baixar a nova imagem
    variables:
      FLASK_ENV: "production"
      FLASK_APP: "app.py"
      PORT: "8080"
service:
  ports:
    http:
      port: 80         # Porta exposta externamente pelo Kubernetes
      targetPort: 8080 # Porta usada pela aplicação Flask dentro do container
